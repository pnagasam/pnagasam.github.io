---
layout: page          # or "default" / "post"
title: "Probability Theory Notes"
permalink: /math280_notes/
---

# Probability Theory Notes
All notes are from Todd Kemp's incredible probability theory lectures.

## $\sigma$-algebra
### Motivation
For a lot of natural probability spaces, having an intuitive probability measure on every possible subset is infeasible. For example, say you want a probability measure on an arbritrary sample space $S$ with the following properties:

- $\mathbb{P}(S) = 1$
- $E \cap F = \empty \implies \mathbb{P}(E \cup F) = \mathbb{P}(E) + \mathbb{P}(F)$
- $\{E_j\}_{j=1}^{\infty}$ where $E_i \cap E_j = \empty$ $\forall i, j$ then, $\mathbb{P}(\bigsqcup_{j=1}^{\infty} E_j) = \sum_{j=1}^\infty \mathbb{P}(E_j)$ 
- If two sets are congruent, (e.g. they have the same legnth), then their probabilities should be the same

Such a measure cannot exist on a very natural probability space such as the $\mathbb{R} \pmod 1$. 

If such a space did exist, then we can construct $\mathbb{R} \pmod 1$ through shifted copies of $\mathbb{Q} \pmod 1$. Then construct a set taking one element from each of those shifted copies of the rationals, call it $\Phi$ ($\Phi$ would require the Axiom of Choice). Since the rationals are countable, $\mathbb{R} \pmod 1 = \bigsqcup_{r \in \mathbb{Q} \pmod 1} r + \Phi$. But since all $r + \Phi$ are congruent, they should all have the same probability. But there's also a countable number of $r + \Phi$'s. So the measure of $r+\Phi$ can either be $0$ or $\infty$ meaning the measure of $\mathbb{R} \pmod 1$ cannot equal $1$.

And that's why we need $\sigma$-fields! (I will use $\sigma$-algebra and $\sigma$-fields interchangeably). We can't consider *all* possible subsets of our sample space. That leads to weird paradoxes such as the Banach Tarski paradox. We would like to restrict it to just the ones we care about. To make the example above work, we would like to ignore $\Phi$ as a possible measurable set. 

So let's define a $\sigma$-algebra.

__________
### Definition of $\sigma$-algebra
Take $\Omega$ to be the sample space. Then, $\mathcal{F} \subseteq 2^\Omega$ is a $\sigma$-algebra if 
- $\Omega \in \mathcal{F}$
- $\forall E \in \mathcal{F}$,  $E^c \in \mathcal{F}$
- For $\{E_j\}_{j=1}^\infty$, where $E_j \in \mathcal{F}$, $\bigcup_{j=1}^\infty E_j \in \mathcal{F}$
_____________


An algebra is a $\sigma$-algebra that only has finite unions rather than countable unions.

Intersection of $\sigma$-algebras is a $\sigma$-algebra, and the $\sigma$-algebra genererated by a set is the intersection of all $\sigma$-algebras that contain that set.

I.e. $\sigma(\mathcal{E}) = \{\bigcap_i \mathcal{F_i}|\mathcal{E} \subseteq \mathcal{F_i}\}$

One commonly used $\sigma$-algebra is the Borel $\sigma$-algebra.

____
### Definition of Borel $\sigma$-algebra

$\mathcal{B}(X) = \sigma(\text{All open subsets of } X)$
____

For $X = \mathbb{R^d}$, it is generated by the set of all sets $(a, b), [a, b], (a, b], (-\infty, a], [a, \infty), ...$.

One way to check if two $\sigma$-algebras are equivalent is the following.

If $\mathcal{E_1} \subseteq \sigma(\mathcal{E_2})$ and $\mathcal{E_2} \subseteq \sigma(\mathcal{E_1})$, then $\sigma(\mathcal{E_1}) = \sigma(\mathcal{E_2})$. This is true as if $\mathcal{E_1} \subseteq \sigma(\mathcal{E_2})$, then the complements of all elements in $\mathcal{E_1}$ and their countable unions must be in $\sigma(\mathcal{E_2})$ (as $\sigma(\mathcal{E_2})$ is itself a $\sigma$-field). So that means $\sigma(\mathcal{E_1}) \subseteq \sigma(\mathcal{E_2})$. Applying the same logic with supposing $\mathcal{E_2} \subseteq \sigma(\mathcal{E_1})$, we get the desired equality.


## Meaures

Measures are desined to "measure" elements in our $\sigma$-algebra. What properties should a function that measures elements in our $\sigma$-algebra have? Intuitively, if you want to measure the volume of a sphere for example, you could divide the sphere into a bunch of smaller chunks whose volume is easy to calculate, and calculate the volume of the sphere by summing the volume of each of those smaller chunks. This is the defining property of a measure -- the measure of a set should be the sum of the measures of any partition of the set.

Suppose $\mathcal{F}$ is a $\sigma$-algebra. A function $\mu: \mathcal{F} \rightarrow [0, \infty]$ is a **measure** if it is countablly additive. In other words, $\forall E \in \mathcal{F}$, $\forall \{E_i\}_{i=1}^\infty$ such that $E = \bigsqcup_{i=1}^{\infty} E_i$, $\mu(E) = \sum_{i=1}^\infty \mu(E_i)$.

Then, $(\Omega, \mathcal{F})$ is called a **measurable space** where $(\Omega, \mathcal{F}, \mu)$ is a **measure space**.

If $\mu(\Omega) < \infty$, then $\mu$ is a **finite measure**. If $\mu(\Omega) = 1$, then $\mu$ is a **probability measure** where $(\Omega, \mathcal{F}, \mu)$ is then a **probability space**.

From this definition, we get the following properties of measures:

- Monotonicity: $\mu(A)\leq \mu(B)$ if $A \subseteq B$ 
- Rule of Addition: $\mu(A \cup B) + \mu(A \cap B) = \mu(A) + \mu(B)$
- Subadditivity: $\mu(\bigcup_{n=1}^\infty B_n) \leq \sum_{n=1}^\infty B_n$

The subadditivity follows from the $\{B_n\}_{n=1}^\infty$ not necessarily being disjoint leading to the overcounting of overlapping regions.


## Construction of Measures

But how do we actually construct $\mu$? $\mathcal{F}$ can be a very difficult set to work with, and therefore will be difficult to verify the properties of a measure on all elements of this set.

To do so, we start with a simplified notion of a $\sigma$-algebra, namely something called a semi-algebra -- a much more understandable set. We can define a notion of a measure on this set such as a finitely additive measure. Then extend this finitely additive measure on the semi-algebra to a measure on the $\sigma$-algebra.

